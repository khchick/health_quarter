<script type='text/javascript' src="../js/index.js"></script>

<!-- Banner Background Image -->
<section>
    <div class="bannerbackground">
        <!--Search Box-->
        <div class="search">
            <form action="/action_page.php">
                <input type="text" placeholder="Search.." name="search">
                <button type="submit">
                    <i class="fa fa-search"></i>
                </button>
            </form>

            <!-- Popular Tags -->
            <div class="populartag">
                <img>
                <span>vegan</span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </div>
</section>

<!-- Listing by categories, where the grid format begins-->

<section class="grid">
    <div class="title">
        <div>
            <span>FOOD</span>
            <a href="/tag/1">VIEW ALL</a>

        </div>
    </div>

    <div class="wrapper" id="1stTagList">
        {{!-- index.js > $.get(`/api/rest/tag/1`) --}}
    </div>

    <div class="title">
        <div>
            <span>DRINKS</span>
            <a href="/tag/10">VIEW ALL</a>

        </div>
    </div>

    <div class="wrapper" id="2ndTagList">
        {{!-- index.js > $.get(`/api/rest/tag/10`) --}}
    </div>

    <div class="title">
        <div>
            <span>MEAL PLANS</span>
            <a href="#">VIEW ALL</a>

        </div>
    </div>

    <div class="wrapper" id="mealPlanList">
        {{!-- index.js > $.get(`/api/meal`) --}}
    </div>

    <div class="title">
        <div>
            <span>RECIPES</span>
            <a href="/tag/1">VIEW ALL</a>

        </div>
    </div>

    <div class="wrapper" id="RecipeList">
        {{!-- index.js > $.get(`/api/rest/tag/1`) --}}
    </div>

</section>

<script>
    function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
            x.className += " responsive";
        } else {
            x.className = "topnav";
        }
    }

let recipeD = {{{ data }}}

$(()=>{ // Get data from api
        recipeD.forEach(e =>{
            $('#RecipeList').append(recipe(e.title,e.image,e.id));
        });
    });
    const recipe = (title, image, id)=>{
        return `
            <div class="innerwrapper">
                <div class="name"><a href="https://spoonacular.com/${title}-${id}">${title}</a></div>
                            <div class="image">
                                <img src="${image}">
                            </div>
            </div>`
    };


</script>